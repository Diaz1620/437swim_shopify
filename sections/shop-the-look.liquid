<style>
  .custom-grid {
      display: grid !important;
      grid-template-columns: repeat(3, 1fr);
  }

  .image_text {
      grid-column: 1/3;
  }

  .product_stacked {
      grid-column: 3;
  }

  .product-one {
      padding-bottom: 0;
  }

  .product-two {
      padding-top: 0;
  }

  .product-card-custom {
      box-shadow: none !important;
      min-height: auto !important;
      display: flex;
      align-items: center;
      width: 100%;
      flex-direction: column;
      /* aspect-ratio: 1; */
      overflow: hidden;
  }

  .product-card-custom div.image-container img {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      object-position: center;
  }

  .product-card-title {
      width: 100%;
  }

  .image-container {
      width: 100%;
      margin-bottom: 5px;
      aspect-ration: 1;
      overflow: hidden;
  }

  @media screen and (min-width: 750px) {
      .product-one {
          padding-bottom: 15px;
      }

      .product-two {
          padding-top: 15px;
      }
  }

  @media screen and (max-width: 749px) {
      .custom-grid {
          display: grid;
          padding: 0 7.5px;
          grid-template-columns: repeat(2, 1fr);
          grid-auto-rows: minmax(250px, auto);
          gap: 15px;
          margin: auto;
      }

      .product_one {
          grid-column: 1;
      }

      .product_two {
          grid-column: 2;
      }

      .image_text {
          margin: 0;
          width: 100%;
          padding: 0;
          grid-column: 1/3;
          grid-row: 1/3;
      }

      .product_stacked {
          margin: 0;
          width: 100%;
          grid-column: 1/3;
          grid-row: 3/4;
          padding: 0;
      }

      .grid-product_stacked {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
      }
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .product_second_image {
      width: 100%;
      height: 100%;
      object-fit: contain;
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .slick-arrow {
      width: 25px;
      height: 35px;
      background: #000;
      z-index: 1;
      opacity: 1;
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .slick-prev {
      left: 15px;
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .slick-next {
      right: 15px;
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .slick-prev:before {
      content: "";
      position: absolute;
      width: 25px;
      height: 18px;
      background: url("https://cdn.shopify.com/s/files/1/2112/6981/files/left-arrow-black.png?v=1663331953"); 
      filter: invert(1);
      transform: translate(-50%, -50%);
      top: 50%;
      left: 50%;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
  }

  div#shopify-section- {
          {
          section.id
      }
  }

  .slick-next:before {
      content: "";
      position: absolute;
      width: 25px;
      height: 18px;
      background: url("https://cdn.shopify.com/s/files/1/2112/6981/files/right-arrow-black.png?v=1663331955");
      filter: invert(1);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
  }

  @media only screen and (min-width:750px) {
    .slick-arrow {
        background: none;
    }
    .slick-prev:before {
        filter: invert(0);
    }
    .slick-next:before {
        filter: invert(0);
    }
      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-prev,
      .slick-next {
          top: 48%;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-prev {
          left: 15px;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-next {
          right: 15px;
      }
  }

  @media only screen and (min-width:1200px) {
      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-prev,
      .slick-next {
          top: 48%;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-prev {
          left: 25px;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-next {
          right: 25px;
      }
  }

  .custom__item {
      padding: 0 7.5px;
  }

  .image-text {
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      height: 100%;
  }

  .custom__item-inner--image_text {
      height: 100%;
  }

  .card-information__wrapper {
      text-transform: none;
  }

  .collection-info-container {
      margin-left: 2rem;
      margin-bottom: 2rem;
  }

  span.fake-link {
      text-decoration: underline;
      letter-spacing: 1.5px;
  }

  span.fake-link:hover {
      color: white;
  }

  span.h2 {
      letter-spacing: 1.5px;
      font-size: 3rem;
  }

  .card-information__wrapper {
      font-size: 11px;
  }

  span.h5 {
      font-size: 1rem;
  }

  @media only screen and (min-width:750px) {
      .custom__item {
          padding: 0 15px;
      }

      .custom-grid {
          padding: 0 15px;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-prev {
          left: 0px;
      }

      div#shopify-section- {
              {
              section.id
          }
      }

      .slick-next {
          right: 0px;
      }

      span.h2 {
          font-size: 4rem;
      }

      span.fake-link {
          font-size: 2rem;
      }

      span.h5 {
          font-size: 1.2rem;
      }

      .collection-info-container {
          padding-left: 3rem;
          padding-bottom: 3rem;
      }

      .card-information__wrapper {
          font-size: 14px;
      }

      .single-item{
        max-width: 1000px;
        margin: auto;
      }
  }
</style>


{%- if section.settings.shop_look_title != blank -%}
    <h2 class="title" style="text-align: center; font-size: {{section.settings.section_title_font_size}}px">{{ section.settings.shop_look_title }}</h2>
{%- endif -%}
<div class="single-item">
    {%- for block in section.blocks -%}

        <div class="custom-grid">
        {%- assign img_url_text = block.settings.collection.featured_image | img_url: 'master' -%}
        {%- assign img_url_text_alt = block.settings.collection_image_alt | img_url: 'master' -%}
        {% assign alt_url = block.settings.alt_url %}

            <div class="image_text custom__item-inner--image_text custom__item">
            <a href="{%- if alt_url != blank -%}{{ alt_url }}{%- else -%}{{block.settings.collection.url}}{%- endif -%}">
                <div style="background-image: url('{%- if block.settings.collection_image_alt != blank -%}{{ img_url_text_alt }}{%- else -%}{{ img_url_text }}{%- endif -%}'); display: flex; align-items: flex-end" class="image-text">
                    <div class="collection-info-container">
                        <span class="h2" style="font-size: {{block.settings.image_title_font_size}}px; color: {{block.settings.image_title_color}}">
                        {%- if block.settings.image_title -%}
                            {{block.settings.image_title}}
                        {%- endif -%}
                        </span>
                        {% if block.settings.shop_button_text %}
                            <p><span class="fake-link h5" style="font-size: {{block.settings.shop_button_font_size}}px; color: {{block.settings.shop_button_font_color}}">{{ block.settings.shop_button_text }}</span></p>
                        {% endif %}
                    </div>
                </div>
            </a>
            </div>


            <div class="product_stacked">
                <div class="custom__item-inner custom__item-inner--product_stacked grid-product_stacked custom__item">
                {%- assign product_one = all_products[block.settings.product_one] -%}
                {%- assign product_two = all_products[block.settings.product_two] -%}
                    <div class="product-one">
                        <div class="product-card-custom">
                            <div class="image-container">
                                <a href="{{product_one.url}}">
                                    {% if block.settings.product_one_alt != blank %}
                                        <img src="{{ block.settings.product_one_alt | img_url: 'master' }}" />
                                    {% else %}
                                        <img src="{{ product_one.featured_image | img_url: 'master' }}" alt="{{product_one.featured_image.alt}}" />
                                        
                                    {% endif %}
                                </a>
                            </div>
                            <div class="card-information__wrapper">
                                <span class="card-information__text h5">{{product_one.title}}</span>
                                <span class="money">{{product_one.price | money}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="product-two"> 
                        <div class="product-card-custom">
                            <div class="image-container">
                                <a href="{{product_two.url}}">
                                    {% if block.settings.product_two_alt != blank %}
                                        <img src="{{ block.settings.product_two_alt | img_url: 'master' }}" />
                                    {% else %}
                                        <img src="{{ product_two.featured_image | img_url: 'master' }}" alt="{{product_two.featured_image.alt}}" />
                                    {% endif %}
                                </a>
                            </div>
                            <div class="card-information__wrapper">
                                <span class="card-information__text h5">{{product_two.title}}</span>
                                <span class="money">{{product_two.price | money}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {%- endfor -%}
</div>


{% schema %}
    {
        "name": "Shop The Look",
        "settings": [
            {
                "type": "paragraph",
                "content": "Autoplay settings can be found in Theme Settings > Styles"
            },
            {    
                "type": "text",
                "id": "shop_look_title",
                "label": "Title",
                "default": "Shop The Look Title"
            },
            {
                "type": "range",
                "id": "section_title_font_size",
                "min": 10,
                "max": 32,
                "step": 1,
                "unit": "px",
                "label": "Title Font Size",
                "default": 24
            }
        ],
        "blocks": [
            {
                "type": "slide",
                "name": "Slide",
                "settings": [
                    {
                        "type": "collection",
                        "id": "collection",
                        "label": "Collection"
                    },
                    {
                        "type": "image_picker",
                        "id": "collection_image_alt",
                        "label": "Alternate Collection Image"
                    },
                    {
                        "type": "url",
                        "id": "alt_url",
                        "label": "Alternate Collection Image Link",
                        "info": "Leaving empty will link to selected collection"
                    },
                    {
                        "type": "richtext",
                        "id": "image_title",
                        "label": "Text on Collection Image",
                        "default": "<p>Shop The Look</p>"
                    },
                    {
                        "type": "color",
                        "id": "image_title_color",
                        "label": "Image Title Color"
                    },
                    {
                        "type": "range",
                        "id": "image_title_font_size",
                        "min": 16,
                        "max": 38,
                        "step": 1,
                        "unit": "px",
                        "label": "Image Title Font Size",
                        "default": 24
                    },
                    {
                        "type": "text",
                        "id": "shop_button_text",
                        "label": "Shop Button Text",
                        "default": "Shop Now"
                    },
                    {
                        "type": "color",
                        "id": "shop_button_font_color",
                        "label": "Link Color"
                    },
                    {
                        "type": "range",
                        "id": "shop_button_font_size",
                        "min": 8,
                        "max": 24,
                        "step": 1,
                        "unit": "px",
                        "label": "Link Font Size",
                        "default": 16
                    },
                    {
                        "type": "header",
                        "content": "Top Product Settings"
                    },
                    {
                        "type": "product",
                        "id": "product_one",
                        "label": "Top Product"
                    },
                    {
                        "type": "image_picker",
                        "id": "product_one_alt",
                        "label": "Alternate Image"
                    },
                    {
                        "type": "header",
                        "content": "Bottom Product Settings"
                    },
                    {
                        "type": "product",
                        "id": "product_two",
                        "label": "Bottom Product"
                    },
                    {
                        "type": "image_picker",
                        "id": "product_two_alt",
                        "label": "Alternate Image"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Shop The Look",
                "blocks": []
            }
        ]
    }
{% endschema %}
